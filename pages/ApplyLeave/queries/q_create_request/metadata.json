{
  "gitSyncId": "69952b18302bdb353697bdd7_d33d3b0d-d487-421c-af71-ea51b811dd3b",
  "id": "ApplyLeave_q_create_request",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "INSERT INTO leave_requests(\n\temp_id,\n\tstart_date,\n\tend_date,\n\tleave_type,\n\ttotal_hours,\n\tstatus,\n\tcreated_at,\n\thours_per_day\n)\nSELECT\n  {{ appsmith.store.emp_id }},\n  ({{ dp_start.selectedDate }}::timestamptz AT TIME ZONE 'Australia/Melbourne')::date,\n  ({{ dp_end.selectedDate }}::timestamptz   AT TIME ZONE 'Australia/Melbourne')::date,\n  {{ sel_leave_type.selectedOptionValue }},\n  {{ Number(inp_hours.text) }},\n  'PENDING',\n  now(),\n  8\nWHERE NOT EXISTS (\n\tSELECT 1\n\tFROM leave_requests r\n\tWHERE r.emp_id = {{ appsmith.store.emp_id }}\n\tAND r.status IN ('PENDING', 'APPROVED')\n\tAND daterange(r.start_date, r.end_date + 1, '[)') &&\n\tdaterange(\n\t\t({{ dp_start.selectedDate }}::timestamptz AT TIME ZONE 'Australia/Melbourne')::date,\n\t\t((({{ dp_end.selectedDate }}::timestamptz AT TIME ZONE 'Australia/Melbourne')::date) + 1),\n\t\t'[)'\n\t)\n)\nRETURNING request_id;",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "ERP_mockUP",
      "isAutoGenerated": false,
      "name": "ERP_mockUP",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "name": "q_create_request",
    "pageId": "ApplyLeave",
    "runBehaviour": "MANUAL",
    "userSetOnLoad": false
  }
}