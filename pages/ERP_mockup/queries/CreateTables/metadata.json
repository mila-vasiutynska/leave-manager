{
  "gitSyncId": "69952b18302bdb353697bdd7_c25642c0-ddc8-453b-92bc-a2736a9ca9a6",
  "id": "ERP_mockup_CreateTables",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "-- EMPLOYEES: username + PIN auth (mock)\ncreate table employees (\n  emp_id        int primary key,\n  username      text unique not null,\n  pin           text not null\n);\n\n-- Leave balances (hours)\ncreate table leave_balances (\n  emp_id int primary key references employees(emp_id),\n  annual_hours numeric not null default 0,\n  sick_hours   numeric not null default 0\n);\n\n-- Leave request header (one per request)\ncreate table leave_requests (\n  request_id bigserial primary key,\n  emp_id int not null references employees(emp_id),\n  leave_type text not null, -- 'annual' | 'sick'\n  start_date date not null,\n  end_date   date not null,\n  status     text not null default 'Pending',\n  created_at timestamptz not null default now()\n);\n\n-- Daily rows (ERP/M1-style timecards per day of leave)\ncreate table leave_days (\n  id bigserial primary key,\n  request_id bigint not null references leave_requests(request_id) on delete cascade,\n  emp_id int not null,\n  day date not null,\n  hours numeric not null,\n  unique(emp_id, day)\n);\n\n-- Seed sample users\ninsert into employees(emp_id, username, pin) values\n(101, 'mila', '1234'),\n(102, 'anna', '1111');\n\ninsert into leave_balances(emp_id, annual_hours, sick_hours) values\n(101, 80, 30),\n(102, 40, 10);",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "ERP_mockUP",
      "isAutoGenerated": false,
      "name": "ERP_mockUP",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [],
    "name": "CreateTables",
    "pageId": "ERP_mockup",
    "runBehaviour": "MANUAL",
    "userSetOnLoad": false
  }
}